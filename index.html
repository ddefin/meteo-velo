<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MÃ©tÃ©o VÃ©lo VCVE</title>
<link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@300;400;600;700;800&family=Barlow:wght@300;400;500&display=swap" rel="stylesheet">
<style>
:root {
  --card:#161b22; --card2:#1c2330;
  --border:rgba(255,255,255,0.07);
  --blue:#4fc3f7; --green:#66bb6a; --orange:#ffa726; --red:#ef5350; --yellow:#ffee58;
  --text:#e6edf3; --muted:#7d8590;
}
*{box-sizing:border-box;margin:0;padding:0;}
html,body{background:transparent;font-family:'Barlow',sans-serif;color:var(--text);}
body{padding:0 6px 6px;}
.w{max-width:500px;margin:0 auto;}

/* Alertes */
.alert-bar{border-radius:10px;padding:9px 12px;margin-bottom:5px;display:flex;gap:9px;align-items:flex-start;font-size:.77rem;line-height:1.45;}
.alert-bar b{display:block;font-weight:700;margin-bottom:2px;}
.al-w{background:rgba(255,238,88,.1);border:1px solid rgba(255,238,88,.3);color:var(--yellow);}
.al-d{background:rgba(255,167,38,.1);border:1px solid rgba(255,167,38,.35);color:var(--orange);}
.al-e{background:rgba(239,83,80,.12);border:1px solid rgba(239,83,80,.4);color:var(--red);}

/* Header */
.hdr{background:var(--card);border:1px solid var(--border);border-radius:14px 14px 0 0;
  padding:12px 15px;display:flex;align-items:center;justify-content:space-between;}
.loc{font-family:'Barlow Condensed',sans-serif;font-size:.7rem;font-weight:700;
  letter-spacing:.12em;text-transform:uppercase;color:var(--muted);}
.loc span{color:var(--blue);}
.gbdg{font-family:'Barlow Condensed',sans-serif;font-size:.63rem;font-weight:700;
  letter-spacing:.08em;text-transform:uppercase;padding:4px 11px;border-radius:20px;border:1px solid;}
.gbdg.good{background:rgba(102,187,106,.15);color:var(--green);border-color:rgba(102,187,106,.3);}
.gbdg.warn{background:rgba(255,167,38,.15);color:var(--orange);border-color:rgba(255,167,38,.3);}
.gbdg.bad{background:rgba(239,83,80,.15);color:var(--red);border-color:rgba(239,83,80,.3);}

/* Onglets */
.tabs{background:var(--card);border-left:1px solid var(--border);border-right:1px solid var(--border);
  border-bottom:1px solid var(--border);display:flex;overflow-x:auto;scrollbar-width:none;padding:0 5px;}
.tabs::-webkit-scrollbar{display:none;}
.tab{font-family:'Barlow Condensed',sans-serif;font-size:.68rem;font-weight:700;letter-spacing:.08em;
  text-transform:uppercase;padding:9px 12px;cursor:pointer;border-bottom:2px solid transparent;
  color:var(--muted);transition:color .15s;white-space:nowrap;user-select:none;flex-shrink:0;}
.tab.active{color:var(--blue);border-bottom-color:var(--blue);}
.tab:hover:not(.active){color:var(--text);}
.tab.star::after{content:'â˜…';font-size:.5rem;color:var(--yellow);vertical-align:super;margin-left:2px;}

/* Panels */
.panel{display:none;background:var(--card);
  border-left:1px solid var(--border);border-right:1px solid var(--border);}
.panel.active{display:block;}

/* MÃ©tÃ©o actuelle */
.cur{padding:11px 13px 6px;display:flex;align-items:center;gap:10px;flex-wrap:wrap;}
.cur img{width:58px;height:58px;flex-shrink:0;}
.cur-t{font-family:'Barlow Condensed',sans-serif;font-size:3.9rem;font-weight:800;line-height:1;}
.cur-t sup{font-size:1.6rem;font-weight:400;opacity:.55;vertical-align:super;}
.cur-r .feels{font-size:.82rem;color:var(--muted);}
.cur-r .feels strong{color:var(--text);}
.cur-r .desc{font-size:.88rem;color:var(--blue);font-weight:500;text-transform:capitalize;margin-top:3px;}
.cur-r .sun{font-size:.7rem;color:var(--muted);margin-top:4px;}
.cur-r .sun span{color:var(--yellow);}

/* Grilles stats */
.g3{padding:0 9px 9px;display:grid;grid-template-columns:1fr 1fr 1fr;gap:6px;}
.g2{padding:0 9px 9px;display:grid;grid-template-columns:1fr 1fr;gap:6px;}
.sc{background:var(--card2);border:1px solid var(--border);border-radius:10px;padding:9px 10px;}
.sc-l{font-family:'Barlow Condensed',sans-serif;font-size:.56rem;font-weight:700;
  letter-spacing:.12em;text-transform:uppercase;color:var(--muted);margin-bottom:5px;}
.sc-v{font-family:'Barlow Condensed',sans-serif;font-size:1.32rem;font-weight:700;line-height:1;}
.sc-u{font-size:.67rem;color:var(--muted);margin-left:2px;}
.sc-s{font-size:.61rem;color:var(--muted);margin-top:3px;}
.wr{display:flex;align-items:center;gap:6px;margin-top:3px;}
.ar{width:26px;height:26px;border-radius:50%;background:rgba(79,195,247,.1);
  border:1px solid rgba(79,195,247,.2);display:flex;align-items:center;justify-content:center;flex-shrink:0;}
.arr{font-size:.85rem;color:var(--blue);display:inline-block;}

/* Scores vÃ©lo */
.brow{padding:0 9px 9px;display:grid;grid-template-columns:1fr 1fr;gap:6px;}
.bs{border-radius:10px;padding:10px 12px;display:flex;align-items:center;gap:9px;border:1px solid;}
.bs.good{background:rgba(102,187,106,.08);border-color:rgba(102,187,106,.22);}
.bs.warn{background:rgba(255,167,38,.08);border-color:rgba(255,167,38,.22);}
.bs.bad{background:rgba(239,83,80,.08);border-color:rgba(239,83,80,.22);}
.bs-i{font-size:1.45rem;flex-shrink:0;}
.bs-l{font-family:'Barlow Condensed',sans-serif;font-size:.56rem;font-weight:700;
  letter-spacing:.1em;text-transform:uppercase;color:var(--muted);}
.bs-t{font-family:'Barlow Condensed',sans-serif;font-size:.8rem;font-weight:700;margin-top:2px;}
.bs.good .bs-t{color:var(--green);}
.bs.warn .bs-t{color:var(--orange);}
.bs.bad  .bs-t{color:var(--red);}
.bbar{height:3px;background:rgba(255,255,255,.08);border-radius:2px;margin-top:5px;overflow:hidden;}
.bbar-i{height:100%;border-radius:2px;}
.good .bbar-i{background:var(--green);}
.warn .bbar-i{background:var(--orange);}
.bad  .bbar-i{background:var(--red);}

/* IA */
.ai-w{padding:0 9px 9px;}
.ai-b{background:rgba(79,195,247,.04);border:1px solid rgba(79,195,247,.14);
  border-radius:10px;padding:10px 13px;display:flex;gap:9px;align-items:flex-start;}
.ai-i{font-size:1rem;flex-shrink:0;margin-top:1px;}
.ai-t{font-size:.78rem;line-height:1.55;color:var(--text);font-style:italic;}

/* Section title */
.sec{border-top:1px solid var(--border);padding:7px 13px 5px;}
.sec span{font-family:'Barlow Condensed',sans-serif;font-size:.6rem;font-weight:700;
  letter-spacing:.14em;text-transform:uppercase;color:var(--muted);}

/* Graphique */
.ch-w{padding:2px 9px 9px;}
.cleg{display:flex;gap:12px;margin-bottom:6px;}
.cl{display:flex;align-items:center;gap:5px;font-size:.6rem;color:var(--muted);
  font-family:'Barlow Condensed',sans-serif;text-transform:uppercase;letter-spacing:.06em;}
.cl-d{width:12px;height:3px;border-radius:2px;}
.ch-svg{width:100%;display:block;overflow:visible;}

/* Panel jour */
.dp{padding:9px;}
.dc{background:var(--card2);border:1px solid var(--border);border-radius:12px;padding:12px;}
.dc-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:7px;}
.dc-tit{display:flex;align-items:center;gap:8px;}
.dot{width:10px;height:10px;border-radius:50%;flex-shrink:0;}
.dot.good{background:var(--green);box-shadow:0 0 6px var(--green);}
.dot.warn{background:var(--orange);box-shadow:0 0 6px var(--orange);}
.dot.bad{background:var(--red);box-shadow:0 0 6px var(--red);}
.dc-name{font-family:'Barlow Condensed',sans-serif;font-size:1rem;font-weight:700;
  text-transform:uppercase;letter-spacing:.06em;}
.dc-bdg{font-family:'Barlow Condensed',sans-serif;font-size:.61rem;font-weight:700;
  text-transform:uppercase;letter-spacing:.07em;padding:3px 9px;border-radius:20px;border:1px solid;}
.dc-bdg.good{background:rgba(102,187,106,.13);color:var(--green);border-color:rgba(102,187,106,.3);}
.dc-bdg.warn{background:rgba(255,167,38,.13);color:var(--orange);border-color:rgba(255,167,38,.3);}
.dc-bdg.bad{background:rgba(239,83,80,.13);color:var(--red);border-color:rgba(239,83,80,.3);}
.dc-meta{font-size:.77rem;color:var(--muted);margin-bottom:9px;
  display:flex;align-items:center;gap:6px;flex-wrap:wrap;}
.dc-meta img{width:26px;height:26px;}
.g4{display:grid;grid-template-columns:repeat(4,1fr);gap:6px;text-align:center;}
.dgl{font-family:'Barlow Condensed',sans-serif;font-size:.54rem;font-weight:700;
  letter-spacing:.1em;text-transform:uppercase;color:var(--muted);margin-bottom:3px;}
.dgv{font-family:'Barlow Condensed',sans-serif;font-size:1.08rem;font-weight:700;line-height:1;}
.dgs{font-size:.59rem;color:var(--muted);margin-top:2px;}
.g3b{display:grid;grid-template-columns:repeat(3,1fr);gap:5px;text-align:center;
  margin-top:8px;padding-top:8px;border-top:1px solid var(--border);}
.g3b-i{font-size:.67rem;color:var(--muted);}
.g3b-v{font-family:'Barlow Condensed',sans-serif;font-size:.9rem;font-weight:700;margin-top:2px;}
.dbikes{margin-top:8px;display:grid;grid-template-columns:1fr 1fr;gap:5px;}
.dbc{border-radius:8px;padding:7px 10px;border:1px solid;}
.dbc-l{font-family:'Barlow Condensed',sans-serif;font-size:.54rem;font-weight:700;
  letter-spacing:.1em;text-transform:uppercase;color:var(--muted);margin-bottom:2px;}
.dbc-v{font-size:.73rem;font-weight:600;}
.dbc.good{background:rgba(102,187,106,.07);border-color:rgba(102,187,106,.2);}
.dbc.warn{background:rgba(255,167,38,.07);border-color:rgba(255,167,38,.2);}
.dbc.bad{background:rgba(239,83,80,.07);border-color:rgba(239,83,80,.2);}
.dbc.good .dbc-v{color:var(--green);}
.dbc.warn .dbc-v{color:var(--orange);}
.dbc.bad  .dbc-v{color:var(--red);}
.best-bn{background:rgba(102,187,106,.07);border-bottom:1px solid rgba(102,187,106,.18);
  padding:6px 13px;font-size:.72rem;color:var(--green);display:flex;align-items:center;gap:6px;}

/* Footer */
.ftr{background:var(--card);border:1px solid var(--border);border-radius:0 0 14px 14px;
  border-top:none;padding:8px 15px;display:flex;justify-content:space-between;align-items:center;}
.ft-t{font-size:.62rem;color:var(--muted);}
.ft-a{font-size:.7rem;font-weight:600;}
.ft-a.good{color:var(--green);}
.ft-a.warn{color:var(--orange);}
.ft-a.bad{color:var(--red);}

/* Loading */
.ls{text-align:center;padding:50px 20px;font-family:'Barlow Condensed',sans-serif;
  font-size:1rem;letter-spacing:.1em;color:var(--muted);
  background:var(--card);border-radius:14px;border:1px solid var(--border);}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.35}}
.ld{animation:pulse 1.3s infinite;}
.ld:nth-child(2){animation-delay:.2s;}
.ld:nth-child(3){animation-delay:.4s;}
</style>
</head>
<body>
<div class="w">
  <div id="ac" style="padding-top:6px"></div>
  <div id="wg">
    <div class="ls">
      <div style="font-size:2rem;margin-bottom:12px">ğŸš´</div>
      <span class="ld">â—</span> <span class="ld">â—</span> <span class="ld">â—</span>
      <div style="margin-top:10px;font-size:.8rem">Chargement mÃ©tÃ©o vÃ©loâ€¦</div>
    </div>
  </div>
</div>

<script>
// â”€â”€ Tab switcher global â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function swTab(id) {
  var ts = document.querySelectorAll('.tab');
  var ps = document.querySelectorAll('.panel');
  for (var i = 0; i < ts.length; i++) ts[i].classList.remove('active');
  for (var i = 0; i < ps.length; i++) ps[i].classList.remove('active');
  document.getElementById('tab-' + id).classList.add('active');
  document.getElementById('pan-' + id).classList.add('active');
  notifyH();
}

// â”€â”€ Auto-resize iframe â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function notifyH() {
  setTimeout(function () {
    try { window.parent.postMessage({ type: 'vcveH', h: document.body.scrollHeight }, '*'); }
    catch (e) {}
  }, 80);
}

(function () {

  // â”€â”€ Config â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  var OWM_KEY = '62502821ebe9f98af37d711b45a59f53';
  var LAT = 48.8561, LON = 2.8931, CITY = 'Magny-le-Hongre';
  var JL = ['Dimanche','Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi'];
  var JS = ['Dim','Lun','Mar','Mer','Jeu','Ven','Sam'];
  var DR = ['N','NNE','NE','ENE','E','ESE','SE','SSE','S','SSO','SO','OSO','O','ONO','NO','NNO'];

  // â”€â”€ Utils â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function dir(deg) { return DR[Math.round(deg / 22.5) % 16]; }
  function ms2k(v)  { return Math.round((v || 0) * 3.6); }
  function sunFmt(ts) {
    var d = new Date(ts * 1000);
    return d.getHours().toString().padStart(2,'0') + 'h' + d.getMinutes().toString().padStart(2,'0');
  }
  function h2(ts) { return new Date(ts * 1000).getHours().toString().padStart(2,'0') + 'h'; }
  function fDay(ts) {
    var d = new Date(ts * 1000);
    return JL[d.getDay()] + ' ' + d.getDate() + '/' + (d.getMonth()+1);
  }
  function sDay(ts) {
    var d = new Date(ts * 1000);
    return JS[d.getDay()] + ' ' + d.getDate();
  }
  function owmIco(id) { return 'https://openweathermap.org/img/wn/' + id + '@2x.png'; }
  function uvI(u) {
    return {
      t: u<=2?'Faible':u<=5?'ModÃ©rÃ©':u<=7?'Ã‰levÃ©':u<=10?'TrÃ¨s Ã©levÃ©':'ExtrÃªme',
      c: u<=2?'var(--green)':u<=5?'var(--yellow)':u<=7?'var(--orange)':'var(--red)'
    };
  }

  // â”€â”€ Scores vÃ©lo (Route / VTT sÃ©parÃ©s) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function sR(t, w, g, pop, r) {
    var s = 100;
    if (t < 3) s -= 40; else if (t < 8) s -= 20; else if (t < 12) s -= 8; else if (t > 36) s -= 22;
    if (w > 60) s -= 40; else if (w > 45) s -= 25; else if (w > 30) s -= 12;
    if (g > 75) s -= 25; else if (g > 55) s -= 12;
    if (pop > .8) s -= 32; else if (pop > .5) s -= 18; else if (pop > .25) s -= 7;
    if (r > 3) s -= 18; else if (r > 1) s -= 8;
    return Math.max(0, s);
  }
  function sV(t, w, g, pop, r) {
    var s = 100;
    if (t < 2) s -= 38; else if (t < 7) s -= 17; else if (t < 11) s -= 6; else if (t > 36) s -= 18;
    if (w > 55) s -= 34; else if (w > 40) s -= 18; else if (w > 28) s -= 8;
    if (g > 70) s -= 20; else if (g > 50) s -= 8;
    if (pop > .8) s -= 22; else if (pop > .5) s -= 10; else if (pop > .25) s -= 4;
    if (r > 6) s -= 15; else if (r > 2) s -= 6;
    return Math.max(0, s);
  }
  function cls(s) { return s >= 72 ? 'good' : s >= 45 ? 'warn' : 'bad'; }
  function clsT(s) { return s >= 72 ? 'âœ“ IdÃ©al' : s >= 45 ? 'âš  Correct' : 'âœ— DÃ©conseillÃ©'; }

  // â”€â”€ Graphique SVG 24h (donnÃ©es horaires Open-Meteo) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function buildChart(times, tArr, wArr, gArr, rArr, popArr, si) {
    var N = 24, end = Math.min(si + N, times.length), n = end - si;
    if (n < 2) return '';
    var W = 460, H = 120, pL = 28, pR = 8, pT = 20, pB = 26;
    var cW = W - pL - pR, cH = H - pT - pB;
    var tv=[], wv=[], gv=[], rv=[], ppv=[], ts=[];
    for (var i = si; i < end; i++) {
      tv.push(tArr[i]); wv.push(Math.round(wArr[i]*3.6));
      gv.push(Math.round((gArr[i]||wArr[i])*3.6));
      rv.push(rArr[i]||0); ppv.push(popArr[i]||0); ts.push(times[i]);
    }
    var tMin = Math.floor(Math.min.apply(null,tv))-1;
    var tMax = Math.ceil(Math.max.apply(null,tv))+1;
    if (tMax-tMin<4) tMax=tMin+4;
    var wMax = Math.max(Math.ceil(Math.max.apply(null,gv)/10)*10, 20);
    var rMax = Math.max(Math.max.apply(null,rv), 1);
    function xP(i) { return pL+(i/(n-1))*cW; }
    function yT(v) { return pT+cH-((v-tMin)/(tMax-tMin))*cH; }
    function yW(v) { return pT+cH-(v/wMax)*cH; }
    var s = '<svg class="ch-svg" viewBox="0 0 '+W+' '+H+'" xmlns="http://www.w3.org/2000/svg">';
    // Grille
    for (var g=0;g<=4;g++) {
      var gy=pT+(g/4)*cH;
      s+='<line x1="'+pL+'" y1="'+gy+'" x2="'+(W-pR)+'" y2="'+gy+'" stroke="rgba(255,255,255,.04)" stroke-width="1"/>';
    }
    // Prob pluie + pluie
    var bw=Math.max(3,cW/n*0.55);
    for (var i=0;i<n;i++) {
      if (ppv[i]>0.05) {
        var pbh=ppv[i]*cH*0.28;
        s+='<rect x="'+(xP(i)-bw)+'" y="'+(pT+cH-pbh)+'" width="'+(bw*2)+'" height="'+pbh+'" fill="rgba(100,181,246,.1)" rx="1"/>';
      }
      if (rv[i]>0) {
        var rbh=(rv[i]/rMax)*cH*0.28;
        s+='<rect x="'+(xP(i)-bw/2)+'" y="'+(pT+cH-rbh)+'" width="'+bw+'" height="'+rbh+'" fill="rgba(100,181,246,.45)" rx="1"/>';
      }
    }
    // Zone rafales
    var gp='M '+xP(0)+' '+yW(gv[0]);
    for (var i=1;i<n;i++) gp+=' L '+xP(i)+' '+yW(gv[i]);
    gp+=' L '+xP(n-1)+' '+(pT+cH)+' L '+xP(0)+' '+(pT+cH)+' Z';
    s+='<path d="'+gp+'" fill="rgba(255,167,38,.08)" stroke="none"/>';
    // Courbe vent
    var wp='M '+xP(0)+' '+yW(wv[0]);
    for (var i=1;i<n;i++) wp+=' L '+xP(i)+' '+yW(wv[i]);
    s+='<path d="'+wp+'" fill="none" stroke="#ffa726" stroke-width="1.5" stroke-opacity=".6" stroke-dasharray="4,3"/>';
    // Gradient + zone temp
    s+='<defs><linearGradient id="tg" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#4fc3f7" stop-opacity=".22"/><stop offset="100%" stop-color="#4fc3f7" stop-opacity=".02"/></linearGradient></defs>';
    var ta='M '+xP(0)+' '+yT(tv[0]);
    for (var i=1;i<n;i++) { var cx=(xP(i-1)+xP(i))/2; ta+=' C '+cx+' '+yT(tv[i-1])+' '+cx+' '+yT(tv[i])+' '+xP(i)+' '+yT(tv[i]); }
    ta+=' L '+xP(n-1)+' '+(pT+cH)+' L '+xP(0)+' '+(pT+cH)+' Z';
    s+='<path d="'+ta+'" fill="url(#tg)" stroke="none"/>';
    // Courbe temp
    var tl='M '+xP(0)+' '+yT(tv[0]);
    for (var i=1;i<n;i++) { var cx=(xP(i-1)+xP(i))/2; tl+=' C '+cx+' '+yT(tv[i-1])+' '+cx+' '+yT(tv[i])+' '+xP(i)+' '+yT(tv[i]); }
    s+='<path d="'+tl+'" fill="none" stroke="#4fc3f7" stroke-width="2" stroke-linecap="round"/>';
    // Labels temp /4h
    for (var i=0;i<n;i+=4) {
      s+='<text x="'+xP(i)+'" y="'+(yT(tv[i])-4)+'" text-anchor="middle" font-size="8" fill="#4fc3f7" font-family="Barlow Condensed,sans-serif" font-weight="700">'+Math.round(tv[i])+'Â°</text>';
    }
    // Axe Y
    [tMin,Math.round((tMin+tMax)/2),tMax].forEach(function(v){
      s+='<text x="'+(pL-3)+'" y="'+(yT(v)+3)+'" text-anchor="end" font-size="7.5" fill="#7d8590" font-family="Barlow Condensed,sans-serif">'+Math.round(v)+'Â°</text>';
    });
    // Axe X /4h
    for (var i=0;i<n;i+=4) {
      var hr=new Date(ts[i]).getHours().toString().padStart(2,'0')+'h';
      s+='<text x="'+xP(i)+'" y="'+(H-5)+'" text-anchor="middle" font-size="8" fill="#7d8590" font-family="Barlow Condensed,sans-serif">'+hr+'</text>';
    }
    // Ligne maintenant
    s+='<line x1="'+xP(0)+'" y1="'+pT+'" x2="'+xP(0)+'" y2="'+(pT+cH)+'" stroke="#4fc3f7" stroke-width="1.5" stroke-opacity=".4" stroke-dasharray="3,3"/>';
    s+='<text x="'+(xP(0)+3)+'" y="'+(pT+8)+'" font-size="7" fill="#4fc3f7" font-family="Barlow Condensed,sans-serif" opacity=".7">maintenant</text>';
    s+='</svg>';
    return s;
  }

  // â”€â”€ IA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function loadAI(t, fe, w, g, pop, r, desc, sr, sv) {
    var el = document.getElementById('ai-txt');
    if (!el) return;
    var prompt = 'MÃ©tÃ©o cycliste Ã  Magny-le-Hongre (Seine-et-Marne, France) : '
      + t + 'Â°C (ressenti ' + fe + 'Â°C), vent ' + w + ' km/h, rafales ' + g + ' km/h, '
      + 'prob. pluie ' + Math.round(pop*100) + '%, ' + r.toFixed(1) + ' mm pluie, ' + desc + '. '
      + 'Score route: ' + sr + '/100, score VTT: ' + sv + '/100. '
      + 'Conseil pratique 2-3 phrases pour cycliste route/VTT. Ã‰quipement si nÃ©cessaire. '
      + 'Direct, concis, franÃ§ais uniquement.';
    fetch('https://api.anthropic.com/v1/messages', {
      method: 'POST', headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ model: 'claude-sonnet-4-20250514', max_tokens: 150,
        messages: [{ role: 'user', content: prompt }] })
    }).then(function(r2){return r2.json();})
      .then(function(d){
        var el2 = document.getElementById('ai-txt');
        if (!el2) return;
        if (d.content && d.content[0] && d.content[0].text) el2.textContent = d.content[0].text;
        else el2.textContent = fbAI(t, w, g, pop, r, sr, sv);
        notifyH();
      }).catch(function(){ 
        var el2 = document.getElementById('ai-txt');
        if (el2) el2.textContent = fbAI(t, w, g, pop, r, sr, sv);
        notifyH();
      });
  }
  function fbAI(t, w, g, pop, r, sr, sv) {
    var a = [], avg = Math.round((sr+sv)/2);
    if (avg>=72) a.push('Bonne fenÃªtre mÃ©tÃ©o pour une sortie vÃ©lo.');
    else if (avg>=45) a.push('Sortie possible avec prudence.');
    else a.push('Conditions difficiles, sortie dÃ©conseillÃ©e.');
    if (g>55) a.push('Rafales Ã  '+g+' km/h : risque de dÃ©sÃ©quilibre.');
    else if (g>35) a.push('Rafales Ã  '+g+' km/h : vigilance en zones exposÃ©es.');
    if (pop>.6) a.push('Risque pluie '+Math.round(pop*100)+'% : prÃ©voyez un impermÃ©able.');
    if (t<8) a.push('Froid ('+t+'Â°C), tenue thermique indispensable.');
    return a.join(' ');
  }

  // â”€â”€ Panel d'un jour futur â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // ReÃ§oit donnÃ©es OWM forecast (3h) agrÃ©gÃ©es + Open-Meteo daily pour UV
  function buildDayPanel(dayData, uvVal, isBest) {
    var tmax=dayData.tmax, tmin=dayData.tmin;
    var w=dayData.wind, g=dayData.gust, wdd=dayData.wdir;
    var pop=dayData.pop, r=dayData.rain, hum=dayData.hum;
    var desc=dayData.desc, icid=dayData.icon;
    var sunrise=dayData.sunrise, sunset=dayData.sunset;
    var uv=Math.round(uvVal||0), uvInf=uvI(uv);
    var feels=dayData.feels;
    var sr=sR(tmax,w,g,pop,r), sv=sV(tmax,w,g,pop,r);
    var scG=cls(Math.round((sr+sv)/2));
    var gcol=g>55?'var(--red)':g>35?'var(--orange)':'var(--text)';
    var pcol=pop>.5?'#64b5f6':'var(--text)';
    var id=dayData.id;

    return '<div class="panel" id="pan-'+id+'">'
      +(isBest?'<div class="best-bn">ğŸ† <strong>Meilleur jour de la semaine pour rouler !</strong></div>':'')
      +'<div class="dp"><div class="dc">'
        +'<div class="dc-top">'
          +'<div class="dc-tit"><div class="dot '+scG+'"></div>'
          +'<div class="dc-name">'+dayData.label+'</div></div>'
          +'<div class="dc-bdg '+scG+'">'+clsT(Math.round((sr+sv)/2))+'</div>'
        +'</div>'
        +'<div class="dc-meta"><img src="'+owmIco(icid)+'" alt="'+desc+'">'
          +'<span style="text-transform:capitalize">'+desc+'</span>'
          +'&nbsp;Â·&nbsp;ğŸŒ…<span style="color:var(--yellow)"> '+sunrise+'</span>'
          +'&nbsp;ğŸŒ‡<span style="color:var(--yellow)"> '+sunset+'</span>'
        +'</div>'
        +'<div class="g4">'
          +'<div><div class="dgl">Max/Min</div><div class="dgv">'+tmax+'Â°</div><div class="dgs">min '+tmin+'Â°</div></div>'
          +'<div><div class="dgl">Vent</div><div class="dgv" style="color:var(--blue)">'+w+'</div><div class="dgs">km/h '+wdd+'</div></div>'
          +'<div><div class="dgl">Rafales</div><div class="dgv" style="color:'+gcol+'">'+g+'</div><div class="dgs">km/h</div></div>'
          +'<div><div class="dgl">Prob. pluie</div><div class="dgv" style="color:'+pcol+'">'+Math.round(pop*100)+'%</div><div class="dgs">'+(r>0?r.toFixed(1)+' mm':'0 mm')+'</div></div>'
        +'</div>'
        +'<div class="g3b">'
          +'<div class="g3b-i">ğŸ’§ HumiditÃ©<div class="g3b-v" style="color:var(--text)">'+hum+'%</div></div>'
          +'<div class="g3b-i">â˜€ï¸ UV<div class="g3b-v" style="color:'+uvInf.c+'">'+uv+' â€“ '+uvInf.t+'</div></div>'
          +'<div class="g3b-i">ğŸŒ¡ Ressenti<div class="g3b-v" style="color:var(--text)">'+feels+'Â°C</div></div>'
        +'</div>'
        +'<div class="dbikes">'
          +'<div class="dbc '+cls(sr)+'"><div class="dbc-l">ğŸš´ Route</div><div class="dbc-v">'+clsT(sr)+' ('+sr+'/100)</div></div>'
          +'<div class="dbc '+cls(sv)+'"><div class="dbc-l">ğŸŒ² VTT</div><div class="dbc-v">'+clsT(sv)+' ('+sv+'/100)</div></div>'
        +'</div>'
      +'</div></div></div>';
  }

  // â”€â”€ AgrÃ©gation forecast 3h â†’ donnÃ©es journaliÃ¨res â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // OWM /forecast renvoie des blocs de 3h. On groupe par jour calendaire.
  function aggregateDays(list, sunriseMap) {
    var days = {}, order = [];
    list.forEach(function(item) {
      var d = new Date(item.dt * 1000);
      var key = d.getFullYear() + '-' + (d.getMonth()+1) + '-' + d.getDate();
      if (!days[key]) {
        days[key] = { ts: item.dt, temps: [], winds: [], gusts: [], pops: [], rains: [],
          hums: [], feels: [], icons: {}, descs: {} };
        order.push(key);
      }
      var dk = days[key];
      dk.temps.push(item.main.temp);
      dk.winds.push(ms2k(item.wind.speed));
      dk.gusts.push(ms2k(item.wind.gust||item.wind.speed));
      dk.pops.push(item.pop||0);
      dk.rains.push((item.rain&&item.rain['3h'])||0);
      dk.hums.push(item.main.humidity||0);
      dk.feels.push(item.main.feels_like||item.main.temp);
      // Prendre icÃ´ne de midi si possible
      var h = d.getHours();
      dk.icons[h] = item.weather[0].icon;
      dk.descs[h]  = item.weather[0].description;
      dk.wdir = item.wind.deg||0; // dernier trouvÃ©
    });
    var result = [];
    order.forEach(function(k) {
      var dk = days[k];
      function avg(arr){return arr.reduce(function(a,b){return a+b;},0)/arr.length;}
      function max(arr){return Math.max.apply(null,arr);}
      function min(arr){return Math.min.apply(null,arr);}
      // IcÃ´ne de midi ou la plus reprÃ©sentÃ©e
      var bestH=[11,12,13,14,10,15].find(function(h){return dk.icons[h];}) || Object.keys(dk.icons)[0];
      result.push({
        ts: dk.ts,
        tmax: Math.round(max(dk.temps)), tmin: Math.round(min(dk.temps)),
        wind: Math.round(avg(dk.winds)),  gust: Math.round(max(dk.gusts)),
        wdir: dir(dk.wdir),
        pop: Math.round(max(dk.pops)*100)/100,
        rain: dk.rains.reduce(function(a,b){return a+b;},0),
        hum: Math.round(avg(dk.hums)),
        feels: Math.round(avg(dk.feels)),
        icon: dk.icons[bestH]||'01d',
        desc: dk.descs[bestH]||'',
        sunrise: sunriseMap[k]||'',
        sunset:  sunriseMap[k+'_set']||''
      });
    });
    return result;
  }

  // â”€â”€ Chargement principal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function load() {
    var owmCurrent = 'https://api.openweathermap.org/data/2.5/weather?lat='+LAT+'&lon='+LON+'&appid='+OWM_KEY+'&units=metric&lang=fr';
    var owmForecast = 'https://api.openweathermap.org/data/2.5/forecast?lat='+LAT+'&lon='+LON+'&appid='+OWM_KEY+'&units=metric&lang=fr&cnt=56';
    // Open-Meteo pour UV + donnÃ©es horaires complÃ¨tes (gratuit, sans clÃ©)
    var omUrl = 'https://api.open-meteo.com/v1/forecast?latitude='+LAT+'&longitude='+LON
      +'&hourly=temperature_2m,wind_speed_10m,wind_gusts_10m,precipitation,precipitation_probability'
      +'&daily=uv_index_max,sunrise,sunset'
      +'&wind_speed_unit=ms&timezone=Europe%2FParis&forecast_days=8';

    Promise.all([
      fetch(owmCurrent).then(function(r){if(!r.ok) throw new Error('OWM current '+r.status); return r.json();}),
      fetch(owmForecast).then(function(r){if(!r.ok) throw new Error('OWM forecast '+r.status); return r.json();}),
      fetch(omUrl).then(function(r){return r.json();}).catch(function(){return null;})
    ]).then(function(results) {

      var cur = results[0];
      var fct = results[1];
      var om  = results[2];

      // â”€â”€ DonnÃ©es actuelles OWM â”€â”€
      var temp  = Math.round(cur.main.temp);
      var feels = Math.round(cur.main.feels_like);
      var wind  = ms2k(cur.wind.speed);
      var gust  = ms2k(cur.wind.gust || cur.wind.speed);
      var wdeg  = cur.wind.deg || 0;
      var hum   = cur.main.humidity || 0;
      var vis   = Math.round((cur.visibility||10000)/1000);
      var pres  = cur.main.pressure || 1013;
      var rain  = (cur.rain && cur.rain['1h']) || 0;
      var pop   = fct.list && fct.list[0] ? (fct.list[0].pop||0) : 0;
      var desc  = cur.weather[0] ? cur.weather[0].description : '';
      var icid  = cur.weather[0] ? cur.weather[0].icon : '01d';
      var sunrise0 = sunFmt(cur.sys.sunrise);
      var sunset0  = sunFmt(cur.sys.sunset);

      // UV depuis Open-Meteo (today)
      var uvToday = om && om.daily && om.daily.uv_index_max ? Math.round(om.daily.uv_index_max[0]||0) : 0;
      var uvi = uvI(uvToday);

      var sr = sR(temp, wind, gust, pop, rain);
      var sv = sV(temp, wind, gust, pop, rain);
      var scG = cls(Math.round((sr+sv)/2));
      var gustCol = gust>55?'var(--red)':gust>35?'var(--orange)':'var(--text)';
      var rainCol = rain>0?'#64b5f6':'var(--text)';
      var visCol  = vis<2?'var(--red)':vis<5?'var(--orange)':'var(--text)';
      var advTxt  = scG==='good'?'ğŸš´ Bonne journÃ©e pour rouler':scG==='warn'?'âš¡ Sortie avec prÃ©cautions':'ğŸ  Conditions difficiles';
      var timeStr = new Date().toLocaleTimeString('fr-FR',{hour:'2-digit',minute:'2-digit'});

      // â”€â”€ Horaire Open-Meteo pour le graphique â”€â”€
      var omTimes=[], omT=[], omW=[], omG=[], omR=[], omPP=[];
      var si=0;
      if (om && om.hourly) {
        var now = new Date();
        om.hourly.time.forEach(function(t,i){
          var dt = new Date(t);
          omTimes.push(dt);
          omT.push(om.hourly.temperature_2m[i]);
          omW.push(om.hourly.wind_speed_10m[i]);
          omG.push(om.hourly.wind_gusts_10m[i]||om.hourly.wind_speed_10m[i]);
          omR.push(om.hourly.precipitation[i]||0);
          omPP.push((om.hourly.precipitation_probability&&om.hourly.precipitation_probability[i]||0)/100);
        });
        for (var i=0;i<omTimes.length;i++) { if (omTimes[i]>=now){si=i;break;} }
      }
      var chartSVG = omTimes.length>1 ? buildChart(omTimes,omT,omW,omG,omR,omPP,si) : '';

      // â”€â”€ Sunrise/sunset map Open-Meteo pour les jours futurs â”€â”€
      var sunMap = {};
      if (om && om.daily) {
        om.daily.time.forEach(function(d,i){
          var k = d; // format "YYYY-MM-DD"
          // On va utiliser les ts OWM, pas OM, donc on stocke par date string
          sunMap[d+'_rise'] = om.daily.sunrise ? om.daily.sunrise[i] : null;
          sunMap[d+'_set']  = om.daily.sunset  ? om.daily.sunset[i]  : null;
        });
      }

      // â”€â”€ AgrÃ©gation forecast OWM par jour â”€â”€
      // On calcule sunrise/sunset depuis OWM current (approximation)
      // et on mappe avec Open-Meteo daily
      var todayTs = new Date();
      var todayKey = todayTs.getFullYear()+'-'+(todayTs.getMonth()+1)+'-'+todayTs.getDate();

      // Construire la sunriseMap pour aggregateDays
      var srMap = {};
      if (om && om.daily && om.daily.time) {
        om.daily.time.forEach(function(dateStr, i) {
          var p = dateStr.split('-');
          var k = parseInt(p[0])+'-'+parseInt(p[1])+'-'+parseInt(p[2]);
          var rTs = om.daily.sunrise && om.daily.sunrise[i] ? om.daily.sunrise[i] : null;
          var sTs = om.daily.sunset  && om.daily.sunset[i]  ? om.daily.sunset[i]  : null;
          if (rTs) { var rd=new Date(rTs); srMap[k]=rd.getHours().toString().padStart(2,'0')+'h'+rd.getMinutes().toString().padStart(2,'0'); }
          if (sTs) { var sd=new Date(sTs); srMap[k+'_set']=sd.getHours().toString().padStart(2,'0')+'h'+sd.getMinutes().toString().padStart(2,'0'); }
        });
      }
      // Fallback : utiliser les donnÃ©es OWM current pour aujourd'hui
      if (!srMap[todayKey]) { srMap[todayKey]=sunrise0; srMap[todayKey+'_set']=sunset0; }

      var allDays = aggregateDays(fct.list || [], srMap);

      // Exclure aujourd'hui (1er Ã©lÃ©ment = aujourd'hui ou depuis maintenant)
      var today = new Date();
      var futureDays = allDays.filter(function(d) {
        var dd = new Date(d.ts*1000);
        return dd.getDate() !== today.getDate() || dd.getMonth() !== today.getMonth();
      }).slice(0, 6); // max 6 jours futurs

      // UV par jour depuis Open-Meteo
      var uvByDate = {};
      if (om && om.daily && om.daily.uv_index_max) {
        om.daily.time.forEach(function(dateStr, i) {
          uvByDate[dateStr] = om.daily.uv_index_max[i]||0;
        });
      }

      // â”€â”€ Trouver meilleur jour â”€â”€
      var bestI = 0, bestSc = -1;
      futureDays.forEach(function(d, i) {
        var sc = Math.round((sR(d.tmax,d.wind,d.gust,d.pop,d.rain)+sV(d.tmax,d.wind,d.gust,d.pop,d.rain))/2);
        if (sc > bestSc) { bestSc = sc; bestI = i; }
      });

      // â”€â”€ Onglets + panels â”€â”€
      var tabsHTML = '', panelsHTML = '';
      futureDays.forEach(function(d, i) {
        var dd = new Date(d.ts*1000);
        var dateStr = dd.getFullYear()+'-'+(dd.getMonth()+1).toString().padStart(2,'0')+'-'+dd.getDate().toString().padStart(2,'0');
        var uvV = uvByDate[dateStr]||0;
        var isBest = (i===bestI && bestSc>=65);
        d.id = 'd'+i;
        d.label = fDay(d.ts);
        tabsHTML += '<div class="tab'+(isBest?' star':'')+'" id="tab-d'+i+'" onclick="swTab(\'d'+i+'\')">'+sDay(d.ts)+'</div>';
        panelsHTML += buildDayPanel(d, uvV, isBest);
      });

      // â”€â”€ HTML final â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      document.getElementById('wg').innerHTML =
        '<div class="hdr">'
          +'<div class="loc">ğŸ“ <span>'+CITY+'</span> Â· 77</div>'
          +'<div class="gbdg '+scG+'">'+clsT(Math.round((sr+sv)/2))+'</div>'
        +'</div>'

        +'<div class="tabs">'
          +'<div class="tab active" id="tab-today" onclick="swTab(\'today\')">Aujourd\'hui</div>'
          +tabsHTML
        +'</div>'

        // â”€â”€ PANEL AUJOURD'HUI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        +'<div class="panel active" id="pan-today">'

          +'<div class="cur">'
            +'<img src="'+owmIco(icid)+'" alt="'+desc+'">'
            +'<div class="cur-t">'+temp+'<sup>Â°C</sup></div>'
            +'<div class="cur-r">'
              +'<div class="feels">Ressenti <strong>'+feels+'Â°C</strong></div>'
              +'<div class="desc">'+desc+'</div>'
              +'<div class="sun">ğŸŒ…<span> '+sunrise0+'</span>&nbsp; ğŸŒ‡<span> '+sunset0+'</span></div>'
            +'</div>'
          +'</div>'

          +'<div class="g3">'
            +'<div class="sc"><div class="sc-l">Vent Â· vient du</div>'
              +'<div class="wr"><div class="ar"><span class="arr" style="transform:rotate('+(wdeg+180)+'deg);display:inline-block">â†‘</span></div>'
              +'<div><div class="sc-v">'+wind+'<span class="sc-u">km/h</span></div><div class="sc-s">'+dir(wdeg)+'</div></div></div>'
            +'</div>'
            +'<div class="sc"><div class="sc-l">Rafales</div>'
              +'<div class="sc-v" style="color:'+gustCol+'">'+gust+'<span class="sc-u">km/h</span></div>'
              +'<div class="sc-s">'+(gust>55?'âš  Danger':gust>35?'âš¡ Fortes':'Normal')+'</div>'
            +'</div>'
            +'<div class="sc"><div class="sc-l">Pluie Â· Prob.</div>'
              +'<div class="sc-v" style="color:'+rainCol+'">'+Math.round(pop*100)+'<span class="sc-u">%</span></div>'
              +'<div class="sc-s">'+(rain>0?rain.toFixed(1)+' mm/h':'Pas de pluie')+'</div>'
            +'</div>'
          +'</div>'

          +'<div class="g3">'
            +'<div class="sc"><div class="sc-l">HumiditÃ©</div>'
              +'<div class="sc-v" style="color:'+(hum>85?'#64b5f6':'var(--text)')+'">'+hum+'<span class="sc-u">%</span></div>'
              +'<div class="sc-s">'+(hum>85?'Ã‰levÃ©e':hum>60?'ModÃ©rÃ©e':'Faible')+'</div>'
            +'</div>'
            +'<div class="sc"><div class="sc-l">Indice UV</div>'
              +'<div class="sc-v" style="color:'+uvi.c+'">'+uvToday+'</div>'
              +'<div class="sc-s">'+uvi.t+'</div>'
            +'</div>'
            +'<div class="sc"><div class="sc-l">VisibilitÃ©</div>'
              +'<div class="sc-v" style="color:'+visCol+'">'+vis+'<span class="sc-u">km</span></div>'
              +'<div class="sc-s">'+(vis<2?'âš  Mauvaise':vis<5?'RÃ©duite':'Bonne')+'</div>'
            +'</div>'
          +'</div>'



          +'<div class="ai-w"><div class="ai-b">'
            +'<span class="ai-i">ğŸ¤–</span>'
            +'<div class="ai-t" id="ai-txt"><em style="color:var(--muted);font-size:.75rem">â³ Analyse IA en coursâ€¦</em></div>'
          +'</div></div>'

          +'<div class="sec"><span>ğŸ“ˆ TempÃ©rature Â· Vent Â· Pluie â€” 24h</span></div>'
          +'<div class="ch-w">'
            +'<div class="cleg">'
              +'<div class="cl"><div class="cl-d" style="background:#4fc3f7"></div>Temp.</div>'
              +'<div class="cl"><div class="cl-d" style="background:#ffa726"></div>Vent / Rafales</div>'
              +'<div class="cl"><div class="cl-d" style="background:rgba(100,181,246,.6)"></div>Pluie / Prob.</div>'
            +'</div>'
            +chartSVG
          +'</div>'

        +'</div>' // fin pan-today

        +panelsHTML

        +'<div class="ftr">'
          +'<div class="ft-t">OpenWeather + Open-Meteo Â· MAJ '+timeStr+'</div>'
          +'<div class="ft-a '+scG+'">'+advTxt+'</div>'
        +'</div>';

      loadAI(temp, feels, wind, gust, pop, rain, desc, sr, sv);
      notifyH();

    }).catch(function(e) {
      document.getElementById('wg').innerHTML =
        '<div class="ls"><div style="font-size:2rem;margin-bottom:10px">âš ï¸</div>'
        +'<div style="color:var(--red);margin-bottom:6px">Erreur de chargement</div>'
        +'<div style="font-size:.75rem;color:var(--muted)">'+e.message+'</div></div>';
      notifyH();
    });
  }

  load();
  setInterval(load, 600000);

}());
</script>
</body>
</html>
